<html lang="en">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8" />
	<title>Danh sách hóa đơn</title>

	<meta name="description" content="Static &amp; Dynamic Tables" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

	<!-- bootstrap & fontawesome -->
	<link rel="stylesheet" href="/eas-web/view/assets/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/eas-web/view/assets/font-awesome/4.5.0/css/font-awesome.min.css" />


	<!-- ace styles -->
	<link rel="stylesheet" href="/eas-web/view/assets/css/fonts.googleapis.com.css" />
	<link rel="stylesheet" href="/eas-web/view/assets/css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style" />
	<link rel="stylesheet" href="/eas-web/view/assets/css/ace-skins.min.css" />
	<link rel="stylesheet" href="/eas-web/view/assets/css/ace-rtl.min.css" />

	<!--pagination-->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-resource.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular.js"></script>
	<!-- controller js-->
	<script type="text/javascript" src="/eas-web/view/pagination/dirPagination.js"></script>
	<script type="text/javascript" src="invoiceService.js"></script>
	<script type="text/javascript" src="invoiceController.js"></script>
</head>

<body class="no-skin" ng-app="invoiceModule" ng-controller="invoiceCtrl as ctrl">
	<!-- /.navbar-container -->
	<div id="navbar" class="navbar navbar-default          ace-save-state">
		<div class="navbar-container ace-save-state" id="navbar-container">
			<div class="navbar-header pull-left">
				<a href="" class="navbar-brand">
					<small>
						<i class="fa fa-laptop"></i>
						Siêu thị điện máy
					</small>
				</a>
			</div>
		</div>
	</div>


	<!--menubar-->
	<div id="sidebar" class="sidebar  responsive  ace-save-state">
		<ul class="nav nav-list">
			<li class="">
				<a href="#" class="dropdown-toggle">
					<i class="menu-icon fa fa-users"></i>
					<span class="menu-text">Quản lý nhân sự</span>
					<b class="arrow fa fa-angle-down"></b>
				</a>
				<b class="arrow"></b>

				<ul class="submenu">
					<li class="">
						<a href="/eas-web/eas/employee/employee.html" target="_blank">
							<i class="menu-icon fa fa-caret-right"></i>Hồ sơ nhân viên
						</a>
						<b class="arrow"></b>
					</li>
				</ul>
			</li>

			<li class="">
				<a href="#" class="dropdown-toggle">
					<i class="menu-icon fa fa-archive"></i>
					<span class="menu-text">
						Quản lý kho </span>
					<b class="arrow fa fa-angle-down"></b>
				</a>
				<b class="arrow"></b>
				<ul class="submenu">
					<li class="">
						<a href="/eas-web/eas/warehouse/Importorder/Importorder.html" target="_blank">
							<i class="menu-icon fa fa-caret-right"></i> Nhập hàng
						</a>
						<b class="arrow"></b>
					</li>
					<li class="">
						<a href="/eas-web/eas/warehouse/Exportorder/Exportorder.html" target="_blank">
							<i class="menu-icon fa fa-caret-right"></i> Xuất hàng
						</a>
						<b class="arrow"></b>
					</li>
					<li class="">
						<a href="/eas-web/eas/warehouse/Statistics/Statistics.html" target="_blank">
							<i class="menu-icon fa fa-caret-right"></i> Thống kê
						</a>
						<b class="arrow"></b>
					</li>
				</ul>
			</li>

			<li class="active open">
				<a href="#" class="dropdown-toggle">
					<i class="menu-icon fa fa-list-alt"></i>
					<span class="menu-text">
						Quản lý đơn hàng </span>
					<b class="arrow fa fa-angle-down"></b>
				</a>
				<b class="arrow"></b>
				<ul class="submenu">
					<li class="active">
						<a href="invoice.html">
							<i class="menu-icon fa fa-caret-right"></i> Quản lý hóa đơn
						</a>
						<b class="arrow"></b>
					</li>
					<li class="">
						<a href="/eas-web/eas/invoice/create-invoice.html" target="_blank">
							<i class="menu-icon fa fa-caret-right"></i> Tạo mới hóa đơn
						</a>
						<b class="arrow"></b>
					</li>
				</ul>
			</li>
		</ul>
		<!-- /.nav-list -->
		<div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse">
			<i id="sidebar-toggle-icon" class="ace-icon fa fa-angle-double-left ace-save-state" data-icon1="ace-icon fa fa-angle-double-left"
			 data-icon2="ace-icon fa fa-angle-double-right"></i>
		</div>
	</div>

	<div class="main-content">
		<div class="main-content-inner">
			<div class="page-content">
				<div class="row">
					<div class="col-xs-12">
						<h3 class="header smaller lighter blue">
							<b>Danh sách hóa đơn</b>
						</h3>
						<div class="clearfix">
							<div class="pull-left">
								<div class="dt-buttons btn-overlap btn-group">
									<a class="dt-button buttons-collection buttons-colvis btn btn-white btn-primary btn-bold" tabindex="0" title="Thêm mới" href="create-invoice.html">
										<span>
											<i class="fa fa-plus bigger-110 blue"></i>
											<span class="hidden">Thêm mới</span>
										</span>
									</a>

									<a class="dt-button buttons-csv buttons-html5 btn btn-white btn-primary btn-bold" title="Xem chi tiết" ng-click="ctrl.viewDetail()">
										<span>
											<i class="fa fa-list-alt bigger-110 blue"></i>
											<span class="hidden">Xem chi tiết</span>
										</span>
									</a>

									<a class="dt-button buttons-copy buttons-html5 btn btn-white btn-primary btn-bold" title="Tìm kiếm" ng-click="ctrl.showFormSearch()">
										<span>
											<i class="fa fa-search bigger-110 pink"></i>
											<span class="hidden">Tìm kiếm</span>
										</span>
									</a>								
								</div>
							</div>
						</div>
						<br/>
						<div class="space"></div>

						<!--search form-->
	                    <div ng-show="ctrl.formSearch">
	                        <form class="form-horizontal">          
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-1">Mã hóa đơn</label>
	                                <div class="col-sm-9" >	                                 
	                                    <input type="number" name="invoiceId" ng-model="ctrl.criteria.invoiceId"/>	                                                                                             
	                                </div>                                                                      
	                            </div>       
	                                
	                     
	                     		<!-- date from -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-date">Ngày bắt đầu</label>
	                                <div class="col-sm-9">
	                                    <div class="input-medium">
	                                        <div class="input-group">
	                                            <input type="date" ng-model="ctrl.criteria.invoiceDateFrom"/>                                                         
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        
	                        	<!-- date to -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-date">Ngày kết thúc</label>
	                                <div class="col-sm-9">
	                                    <div class="input-medium">
	                                        <div class="input-group">
	                                            <input type="date" ng-model="ctrl.criteria.invoiceDateTo">                               
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>  
	                    
	                    		<!-- employee name -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-1">Tên người lập
	                                </label>
	                                <div class="col-sm-9">
	                                    <input type="text" name="criteria.employeeName" ng-model="ctrl.criteria.employeeName"/>
	                                </div>    	                                                                                                     
	                            </div>      
	                      
	                      		<!-- customer name -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-1">Tên khách hàng</label>
	                                <div class="col-sm-9">
	                                    <input type="text" name ="ctrl.criteria.customerName" ng-model="ctrl.criteria.customerName" />
	                                </div>     
	                             	                                                                                       
	                            </div>       
	                    
	                    		<!-- customer address -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-1">Địa chỉ KH</label>
	                                <div class="col-sm-9">
	                                    <input type="text" name="ctrl.criteria.customerAddress" ng-model="ctrl.criteria.customerAddress"/>
	                                </div>                                                                       		                             								
								</div>	
									
								<!-- customer phone -->
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-phone">Điện thoại KH</label>
	                                <div class="col-sm-9">                                                 
	                                    <input type="number" name="customerPhone" ng-model="ctrl.criteria.customerPhone">    
	                                </div> 	                                
								</div>                                           
	                           	                           	                                                      	                  
	                            <div class="form-group">
	                                <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 
	                                </label>
	                                <div class="col-sm-9">	                                   
	                                    <button class="btn btn-white btn-info btn-bold" ng-click ="ctrl.doSearch()">Tìm kiếm</button>	
	                                    <button class="btn btn-white btn-danger btn-bold" ng-click="ctrl.closeFormSearch()">
											<i class="ace-icon fa fa-times "></i> Đóng
										</button>	                                   	                               
	                                </div>                                                       
	                            </div>                                                                                      
	                        </form>
	                    </div>
	                    <!--end search form--> 

						<div ng-show="ctrl.formDetail">
							<div class="modal-content" style="width: 1000px;">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" ng-click="ctrl.closeFormDetail()">&times;</button>
									<h4 class="modal-title">Chi tiết hóa đơn</h4>
								</div>
								<div class="modal-body">
									<form name="myForm">
										<div class="widget-main padding-24">
											<table class="table table-striped table-bordered" id="dynamic-table" style="font-size: 12px;">
												<thead>
													<tr>
														<th class="center">STT</th>
														<th>Mã SP</th>
														<th>Mô tả</th>
														<th>Số lượng</th>
														<th>Đơn giá</th>
														<th>ĐV tính</th>
														<th>Tỉ lệ CK</th>
														<th>Tiền CK</th>
														<th>Thành tiền</th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat="line in ctrl.lines">
														<td class="center">{{$index+1}}</td>
														<td>{{line.productId}}</td>
														<td>{{line.productName}}</td>
														<td>{{line.quantity}}</td>
														<td>{{line.unitPrice}}</td>
														<td>{{line.productUnit}}</td>
														<td>{{line.discountRate}}</td>
														<td>{{line.quantity*line.unitPrice*line.discountRate}}</td>
														<td>{{line.quantity*(line.unitPrice*(1-line.discountRate))}}</td>
													</tr>
												</tbody>
											</table>
										</div>
									</form>
								</div>
								<div class="modal-footer">
									<button class="btn btn-white btn-danger btn-bold" ng-click="ctrl.closeFormDetail()">
										<i class="ace-icon fa fa-times "></i> Đóng
									</button>
								</div>
							</div>
							<br>
						</div>

						<!-- quick search form-->
						<form class="form-inline">
							<div class="col-xs-12" style="background-color: #EFF3F8;">
								<div class="form-group" style="float:right;">
									<label>Tìm kiếm nhanh </label>
									<input type="text" ng-model="search" class="form-control" placeholder="Nhập từ khóa">
								</div>								
							</div>
							
						</form>
						<br>
						<!-- table list invoices -->
						<table id="dynamic-table" class="table table-striped table-bordered table-hover" style="font-size: 14px;">
							<thead>
								<tr>
									<th class="center">#</th>
									<th ng-click="ctrl.sort('invoiceId')">Mã HĐ
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='invoiceId'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('customerName')">Tên khách hàng
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='customerName'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('customerAddress')">Địa chỉ
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='customerAddress'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('customerPhone')">Số điện thoại
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='customerPhone'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('totalAmount')">Tổng tiền
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='totalAmount'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('invoiceDate')">Ngày lập
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='invoiceDate'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
									<th ng-click="ctrl.sort('employeeName')">Người lập
										<span class="glyphicon sort-icon" ng-show="ctrl.sortKey=='employeeName'" ng-class="{'glyphicon-chevron-up':ctrl.reverse,'glyphicon-chevron-down':!ctrl.reverse}"></span>
									</th>
								</tr>
							</thead>
							<tbody>
								<!-- <tr ng-repeat="invoice in invoiceList"> -->
								<tr dir-paginate="invoice in ctrl.invoiceList | limitTo: limit |filter:search|orderBy:sortKey:reverse|itemsPerPage: pageSize">
									<td class="center">
										<input type="checkbox" ng-click="ctrl.updateSelection($index, ctrl.invoiceList); ctrl.current(invoice.invoiceId)" ng-model="invoice.checked">										
									</td>
									<td>{{invoice.invoiceId}}</td>
									<td>{{invoice.customerName}}</td>
									<td>{{invoice.customerAddress}}</td>
									<td>{{invoice.customerPhone}}</td>
									<td>{{invoice.totalAmount}}</td>
									<td>{{invoice.invoiceDate}}</td>
									<td>{{invoice.employeeName}}</td>
								</tr>
							</tbody>
						</table>
						<div class="form-group" style="background-color: #EFF3F8;">
						<select>
									  <option value="5">5</option>
									  <option value="10">10</option>
									  <option value="15">15</option>									 
									</select>
									bản ghi / 1 trang
						<!--  nav aria-label="Page navigation example" >
						  <ul class="pagination">
						    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
						    <li class="page-item"><a class="page-link" href="#">1</a></li>
						    <li class="page-item"><a class="page-link" href="#">2</a></li>
						    <li class="page-item"><a class="page-link" href="#">3</a></li>
						    <li class="page-item"><a class="page-link" href="#">Next</a></li>
						  </ul>
						</nav>
						
						-->
									
								</div>						
						<!-- pagination -->
						<!--  h5>Số bản ghi: {{ctrl.invoiceList.length}}</h5>-->
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="/eas-web/view/assets/js/jquery-2.1.4.min.js"></script>	
	<script src="/eas-web/view/assets/js/bootstrap.min.js"></script>
	<script src="/eas-web/view/assets/js/ace-elements.min.js"></script>
	<script src="/eas-web/view/assets/js/ace.min.js"></script>
</body>

</html>